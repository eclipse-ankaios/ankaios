<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1125px" preserveAspectRatio="none" style="width:1342px;height:1125px;" version="1.1" viewBox="0 0 1342 1125" width="1342px" zoomAndPan="magnify"><defs/><g><rect fill="#EEEEEE" height="1103.9375" style="stroke: #D3D3D3; stroke-width: 1.0;" width="1256.5" x="14" y="4"/><text fill="#777777" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="588.75" y="16.0669">Ankaios Agent</text><rect fill="#FFFFFF" height="81.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="80.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="80.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="80.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="80.5" y1="80.7266" y2="80.7266"/><rect fill="#FFFFFF" height="853.3359" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="202.7969" y2="1056.1328"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="32.1328" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="129.8594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="129.8594" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="129.8594" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="261.5" y1="129.8594" y2="129.8594"/><rect fill="#FFFFFF" height="853.3359" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="202.7969" y2="1056.1328"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="695.7344" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="256.5" y="360.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="360.3984" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="360.3984" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="266.5" y1="360.3984" y2="360.3984"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="256.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="269.4961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="261.5" y="402.5313"/><rect fill="#FFFFFF" height="115.3984" style="stroke: #383838; stroke-width: 1.0;" width="10" x="266.5" y="444.6641"/><rect fill="#FFFFFF" height="321.6016" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="261.5" y="734.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="734.5313" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="734.5313" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="271.5" y1="734.5313" y2="734.5313"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="261.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="257.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="266.5" y="798.4688"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="798.4688" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="798.4688" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="276.5" y1="798.4688" y2="798.4688"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="266.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="193.5313" style="stroke: #383838; stroke-width: 1.0;" width="10" x="271.5" y="840.6016"/><rect fill="#FFFFFF" height="57.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="574.5" y="502.9297"/><rect fill="#FFFFFF" height="57.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="574.5" y="874.7344"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="764.5" y="532.0625"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="764.5" y="903.8672"/><rect fill="#FFFFFF" height="73.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="964.5" y="961"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1158.5" y="618.3281"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1158.5" y="1020.1328"/><rect fill="#FFFFFF" height="952.0781" style="stroke: #000000; stroke-width: 2.0;" width="1180" x="150.5" y="144.8594"/><rect fill="#FFFFFF" height="894.1406" style="stroke: none; stroke-width: 1.0;" width="1180" x="150.5" y="202.7969"/><rect fill="#FFFFFF" height="824.5313" style="stroke: #000000; stroke-width: 2.0;" width="1160" x="160.5" y="224.6016"/><rect fill="#FFFFFF" height="743.1328" style="stroke: #000000; stroke-width: 2.0;" width="1140" x="170.5" y="299"/><rect fill="#FFFFFF" height="282.8672" style="stroke: #000000; stroke-width: 2.0;" width="1120" x="180.5" y="464.6641"/><rect fill="#FFFFFF" height="56.9375" style="stroke: none; stroke-width: 1.0;" width="1120" x="180.5" y="690.5938"/><rect fill="#FFFFFF" height="287.6016" style="stroke: none; stroke-width: 1.0;" width="1140" x="170.5" y="754.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="75" x2="75" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="75" x2="75" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="75" x2="75" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="75" x2="75" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="75" x2="75" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="75" x2="75" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="75" x2="75" y1="1096.9375" y2="1113.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="256.5" x2="256.5" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="256.5" x2="256.5" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="256.5" x2="256.5" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="1096.9375" y2="1113.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="579.5" x2="579.5" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="579.5" x2="579.5" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="579.5" x2="579.5" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="579.5" x2="579.5" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="579.5" x2="579.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="579.5" x2="579.5" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="579.5" x2="579.5" y1="1096.9375" y2="1113.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="769" x2="769" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="769" x2="769" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="769" x2="769" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="769" x2="769" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="769" x2="769" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="769" x2="769" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="769" x2="769" y1="1096.9375" y2="1113.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="969.5" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="969.5" x2="969.5" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="969.5" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="969.5" x2="969.5" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="969.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="969.5" x2="969.5" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="969.5" y1="1096.9375" y2="1113.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1163.5" x2="1163.5" y1="70.7266" y2="80.7266"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1163.5" x2="1163.5" y1="80.7266" y2="108.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1163.5" x2="1163.5" y1="108.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1163.5" x2="1163.5" y1="161.9922" y2="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1163.5" x2="1163.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1163.5" x2="1163.5" y1="1056.1328" y2="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1163.5" x2="1163.5" y1="1096.9375" y2="1113.9375"/><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="115" x="18" y="39.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="25" y="59.4248">AgentManager</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="132" x="190.5" y="39.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="197.5" y="59.4248">RuntimeManager</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="78" x="540.5" y="39.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="547.5" y="59.4248">Workload</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="199" x="670" y="39.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="185" x="677" y="59.4248">WorkloadCommandSender</text><rect fill="#F8F8F8" height="46.5938" style="stroke: #383838; stroke-width: 1.5;" width="162" x="888.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="931" y="43.1279">&lt;&lt;task&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="895.5" y="59.4248">WorkloadControlLoop</text><rect fill="#F8F8F8" height="46.5938" style="stroke: #383838; stroke-width: 1.5;" width="206" x="1060.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="1067.5" y="43.1279">Specific Runtime Connector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="1091" y="59.4248">e.g., PodmanRuntime</text><rect fill="#FFFFFF" height="81.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="80.7266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="80.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="80.7266" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="80.5" y1="80.7266" y2="80.7266"/><rect fill="#FFFFFF" height="853.3359" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="202.7969" y2="1056.1328"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="70.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="70.5" x2="70.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="80.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="32.1328" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="129.8594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="129.8594" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="129.8594" y2="161.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="261.5" y1="129.8594" y2="129.8594"/><rect fill="#FFFFFF" height="853.3359" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="202.7969"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="202.7969" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="202.7969" y2="1056.1328"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="251.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="251.5" x2="251.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="695.7344" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="256.5" y="360.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="360.3984" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="360.3984" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="266.5" y1="360.3984" y2="360.3984"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="256.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="256.5" x2="256.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="269.4961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="261.5" y="402.5313"/><rect fill="#FFFFFF" height="115.3984" style="stroke: #383838; stroke-width: 1.0;" width="10" x="266.5" y="444.6641"/><rect fill="#FFFFFF" height="321.6016" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="261.5" y="734.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="734.5313" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="734.5313" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="271.5" y1="734.5313" y2="734.5313"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="261.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="257.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="266.5" y="798.4688"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="798.4688" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="798.4688" y2="1056.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="276.5" y1="798.4688" y2="798.4688"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="266.5" y="1096.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="266.5" y1="1096.9375" y2="1104.9375"/><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="1096.9375" y2="1104.9375"/><rect fill="#FFFFFF" height="193.5313" style="stroke: #383838; stroke-width: 1.0;" width="10" x="271.5" y="840.6016"/><rect fill="#FFFFFF" height="57.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="574.5" y="502.9297"/><rect fill="#FFFFFF" height="57.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="574.5" y="874.7344"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="764.5" y="532.0625"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="764.5" y="903.8672"/><rect fill="#FFFFFF" height="73.1328" style="stroke: #383838; stroke-width: 1.0;" width="10" x="964.5" y="961"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1158.5" y="618.3281"/><rect fill="#FFFFFF" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1158.5" y="1020.1328"/><polygon fill="#383838" points="239.5,125.8594,249.5,129.8594,239.5,133.8594" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="80.5" x2="245.5" y1="129.8594" y2="129.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="87.5" y="124.7935">handle update workload</text><path d="M150.5,144.8594 L214.5,144.8594 L214.5,151.8594 L204.5,161.8594 L150.5,161.8594 L150.5,144.8594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="952.0781" style="stroke: #000000; stroke-width: 2.0;" width="1180" x="150.5" y="144.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="165.5" y="157.9263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="380" x="229.5" y="157.0698">[first update workload call for the current agent execution]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="522.5" y="186.2026">see dedicated digram for first call</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="150.5" x2="1330.5" y1="203.7969" y2="203.7969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="155.5" y="214.0073">[subsequent update workload call]</text><path d="M160.5,224.6016 L237.5,224.6016 L237.5,231.6016 L227.5,241.6016 L160.5,241.6016 L160.5,224.6016 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="824.5313" style="stroke: #000000; stroke-width: 2.0;" width="1160" x="160.5" y="224.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="175.5" y="237.6685">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="252.5" y="236.812">[for each deleted Worload]</text><polygon fill="#383838" points="780.5,269.4336,770.5,273.4336,780.5,277.4336" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="774.5" x2="968.5" y1="273.4336" y2="273.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="786.5" y="268.3677">wait for command</text><path d="M974,246.7344 L974,286.7344 L1288,286.7344 L1288,256.7344 L1278,246.7344 L974,246.7344 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1278,246.7344 L1278,256.7344 L1288,256.7344 L1278,246.7344 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="980" y="263.8013">WorkloadControlLoop is already waiting</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="980" y="278.9341">for new workload commands for that workload</text><path d="M170.5,299 L234.5,299 L234.5,306 L224.5,316 L170.5,316 L170.5,299 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="743.1328" style="stroke: #000000; stroke-width: 2.0;" width="1140" x="170.5" y="299"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="185.5" y="312.0669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="332" x="249.5" y="311.2104">[if the workload is also in the added workloads list]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="261.5" x2="308.5" y1="347.3984" y2="347.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="308.5" x2="308.5" y1="347.3984" y2="360.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="267.5" x2="308.5" y1="360.3984" y2="360.3984"/><polygon fill="#383838" points="277.5,356.3984,267.5,360.3984,277.5,364.3984" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="273.5" y="327.1997">remove workload from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="277.5" y="342.3325">added workloads list</text><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="313.5" y1="389.5313" y2="389.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="313.5" x2="313.5" y1="389.5313" y2="402.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="272.5" x2="313.5" y1="402.5313" y2="402.5313"/><polygon fill="#383838" points="282.5,398.5313,272.5,402.5313,282.5,406.5313" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="278.5" y="384.4653">update workload</text><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="318.5" y1="431.6641" y2="431.6641"/><line style="stroke: #383838; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="431.6641" y2="444.6641"/><line style="stroke: #383838; stroke-width: 1.0;" x1="277.5" x2="318.5" y1="444.6641" y2="444.6641"/><polygon fill="#383838" points="287.5,440.6641,277.5,444.6641,287.5,448.6641" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="283.5" y="426.5981">find workload in running workloads</text><path d="M180.5,464.6641 L244.5,464.6641 L244.5,471.6641 L234.5,481.6641 L180.5,481.6641 L180.5,464.6641 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="282.8672" style="stroke: #000000; stroke-width: 2.0;" width="1120" x="180.5" y="464.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="195.5" y="477.731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="259.5" y="476.8745">[workload object found]</text><polygon fill="#383838" points="562.5,498.9297,572.5,502.9297,562.5,506.9297" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="568.5" y1="502.9297" y2="502.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="283.5" y="497.8638">request update (new config)</text><polygon fill="#383838" points="752.5,528.0625,762.5,532.0625,752.5,536.0625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="758.5" y1="532.0625" y2="532.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="591.5" y="526.9966">send update (new config)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="594.5" y1="546.0625" y2="542.0625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="594.5" y1="546.0625" y2="550.0625"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="584.5" x2="768.5" y1="546.0625" y2="546.0625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="560.0625" y2="556.0625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="560.0625" y2="564.0625"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="271.5" x2="578.5" y1="560.0625" y2="560.0625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="967.5" x2="957.5" y1="589.1953" y2="585.1953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="967.5" x2="957.5" y1="589.1953" y2="593.1953"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="769.5" x2="968.5" y1="589.1953" y2="589.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="776.5" y="584.1294">receive update (new config)</text><polygon fill="#383838" points="1146.5,614.3281,1156.5,618.3281,1146.5,622.3281" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="1152.5" y1="618.3281" y2="618.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="976.5" y="613.2622">perform update actions</text><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="979.5" y1="632.3281" y2="628.3281"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="979.5" y1="632.3281" y2="636.3281"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="969.5" x2="1162.5" y1="632.3281" y2="632.3281"/><polygon fill="#383838" points="780.5,668.0273,770.5,672.0273,780.5,676.0273" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="774.5" x2="968.5" y1="672.0273" y2="672.0273"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="786.5" y="666.9614">wait for command</text><path d="M974,645.3281 L974,685.3281 L1285,685.3281 L1285,655.3281 L1275,645.3281 L974,645.3281 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1275,645.3281 L1275,655.3281 L1285,655.3281 L1275,645.3281 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="980" y="662.395">afterwards the WorkloadControlLoop</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="980" y="677.5278">waits again for incoming workload commands</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="180.5" x2="1300.5" y1="691.5938" y2="691.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="311" x="185.5" y="701.8042">[no workload object found -&gt; nothing to update]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="266.5" x2="313.5" y1="721.5313" y2="721.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="313.5" x2="313.5" y1="721.5313" y2="734.5313"/><line style="stroke: #383838; stroke-width: 1.0;" x1="272.5" x2="313.5" y1="734.5313" y2="734.5313"/><polygon fill="#383838" points="282.5,730.5313,272.5,734.5313,282.5,738.5313" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="278.5" y="716.4653">add workload</text><path d="M374,713.8984 L374,738.8984 L622,738.8984 L622,723.8984 L612,713.8984 L374,713.8984 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><path d="M612,713.8984 L612,723.8984 L622,723.8984 L612,713.8984 " fill="#FFFFFF" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="380" y="730.9653">see add workload digram for details</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="170.5" x2="1310.5" y1="755.5313" y2="755.5313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137" x="175.5" y="765.7417">[this is only a delete]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="271.5" x2="318.5" y1="785.4688" y2="785.4688"/><line style="stroke: #383838; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="785.4688" y2="798.4688"/><line style="stroke: #383838; stroke-width: 1.0;" x1="277.5" x2="318.5" y1="798.4688" y2="798.4688"/><polygon fill="#383838" points="287.5,794.4688,277.5,798.4688,287.5,802.4688" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="283.5" y="780.4028">delete workload</text><line style="stroke: #383838; stroke-width: 1.0;" x1="276.5" x2="323.5" y1="827.6016" y2="827.6016"/><line style="stroke: #383838; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="827.6016" y2="840.6016"/><line style="stroke: #383838; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="840.6016" y2="840.6016"/><polygon fill="#383838" points="292.5,836.6016,282.5,840.6016,292.5,844.6016" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="288.5" y="822.5356">remove workload from running workloads list</text><polygon fill="#383838" points="562.5,870.7344,572.5,874.7344,562.5,878.7344" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="281.5" x2="568.5" y1="874.7344" y2="874.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="288.5" y="869.6685">request delete</text><polygon fill="#383838" points="752.5,899.8672,762.5,903.8672,752.5,907.8672" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="758.5" y1="903.8672" y2="903.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="591.5" y="898.8013">send delete</text><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="594.5" y1="917.8672" y2="913.8672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="584.5" x2="594.5" y1="917.8672" y2="921.8672"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="584.5" x2="768.5" y1="917.8672" y2="917.8672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="281.5" x2="291.5" y1="931.8672" y2="927.8672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="281.5" x2="291.5" y1="931.8672" y2="935.8672"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="281.5" x2="578.5" y1="931.8672" y2="931.8672"/><line style="stroke: #383838; stroke-width: 2.0;" x1="570.5" x2="588.5" y1="922.8672" y2="940.8672"/><line style="stroke: #383838; stroke-width: 2.0;" x1="570.5" x2="588.5" y1="940.8672" y2="922.8672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="962.5" x2="952.5" y1="961" y2="957"/><line style="stroke: #383838; stroke-width: 1.0;" x1="962.5" x2="952.5" y1="961" y2="965"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="769.5" x2="963.5" y1="961" y2="961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="776.5" y="955.9341">receive delete</text><line style="stroke: #383838; stroke-width: 2.0;" x1="760.5" x2="778.5" y1="982" y2="1000"/><line style="stroke: #383838; stroke-width: 2.0;" x1="760.5" x2="778.5" y1="1000" y2="982"/><polygon fill="#383838" points="1146.5,1016.1328,1156.5,1020.1328,1146.5,1024.1328" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="974.5" x2="1152.5" y1="1020.1328" y2="1020.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="981.5" y="1015.0669">perform delete actions</text><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="979.5" y1="1034.1328" y2="1030.1328"/><line style="stroke: #383838; stroke-width: 1.0;" x1="969.5" x2="979.5" y1="1034.1328" y2="1038.1328"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="969.5" x2="1162.5" y1="1034.1328" y2="1034.1328"/><line style="stroke: #383838; stroke-width: 2.0;" x1="960.5" x2="978.5" y1="1025.1328" y2="1043.1328"/><line style="stroke: #383838; stroke-width: 2.0;" x1="960.5" x2="978.5" y1="1043.1328" y2="1025.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="550" y="1080.3433">handle added Workloads</text><!--MD5=[d5469141a0673855a5bf642b878e1af6]
@startuml seq_update_workload_subsequent_deleted
skinparam monochrome true
skinparam guillemet true
skinparam style strictuml
hide empty members
hide empty methods

skinparam class {
    BorderColor<<logical entity>> grey
    FontColor<<logical entity>> grey
    StereotypeFontColor<<logical entity>> grey
}

skinparam sequenceBox {
    BorderColor #LightGrey
    BackgroundColor #EEEEEE
    FontColor #777777
}

skinparam BoxPadding 10

skinparam note {
    BackgroundColor #FFFFFF
}

skinparam nodesep 30
skinparam ranksep 30

box "Ankaios Agent"
    participant "AgentManager" as manager
    participant "RuntimeManager" as runtime_manager
    participant "Workload" as workload
    participant "WorkloadCommandSender" as workload_command
    participant "<<task>>\nWorkloadControlLoop" as workload_control_loop

    participant "Specific Runtime Connector\n e.g., PodmanRuntime" as runtime
end box

activate manager

...
manager -> runtime_manager ++: handle update workload

alt first update workload call for the current agent execution
... see dedicated digram for first call ...
else subsequent update workload call
    loop for each deleted Worload
        workload_control_loop -> workload_command: wait for command
        note right
            WorkloadControlLoop is already waiting
            for new workload commands for that workload
        endnote
        alt if the workload is also in the added workloads list
            runtime_manager -> runtime_manager ++- -: remove workload from \n added workloads list
            runtime_manager -> runtime_manager ++: update workload
            runtime_manager -> runtime_manager ++- -: find workload in running workloads
            alt workload object found
                runtime_manager -> workload ++: request update (new config)
                workload -> workload_command ++: send update (new config)
                workload_command - ->> workload- -
                workload - ->> runtime_manager- -
                deactivate runtime_manager
                deactivate workload
                workload_command - ->> workload_control_loop - -++: receive update (new config)
                deactivate workload_command
                workload_control_loop -> runtime ++: perform update actions
                runtime - ->> workload_control_loop- -
                workload_control_loop -> workload_command: wait for command
                note right
                    afterwards the WorkloadControlLoop
                    waits again for incoming workload commands
                endnote
                deactivate workload_control_loop
                deactivate runtime_manager
            else no workload object found -> nothing to update
                runtime_manager -> runtime_manager++- -:add workload
                note right
                see add workload digram for details
                endnote
            end
        else this is only a delete
            runtime_manager -> runtime_manager++: delete workload
            runtime_manager -> runtime_manager ++- -: remove workload from running workloads list
            runtime_manager -> workload ++: request delete
            workload -> workload_command ++: send delete
            workload_command - ->> workload- -
            workload - ->> runtime_manager
            destroy workload
            workload_command - ->> workload_control_loop ++: receive delete
            destroy workload_command
            workload_control_loop -> runtime++: perform delete actions
            runtime - ->> workload_control_loop- -
            destroy workload_control_loop
            deactivate runtime_manager
        end
    end

    ... handle added Workloads ...

end

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.9+9-Debian-1deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>