workloads:
  workload_with_mounted_text_file:
    agent: agent_A
    runtime: podman
    configs:
      nginx_conf: file_data
    files:
      - mountPoint: "/etc/nginx/nginx.conf"
        data: "{{nginx_conf.json_data_file_content}}"
    runtimeConfig: |
      image: ghcr.io/eclipse-ankaios/tests/nginx:alpine-slim
      commandOptions: [ "-p", "8080:80" ]
  workload_with_mounted_binary_file:
    agent: agent_A
    runtime: podman
    configs:
      file_data: file_data
    files:
      - mountPoint: "/cleanup.sh"
        binaryData: "{{file_data.bin_data}}"
    runtimeConfig: |
      image: ghcr.io/eclipse-ankaios/tests/alpine:latest
      commandArgs: [ "/cleanup.sh" ]
configs:
  file_data:
    json_data_file_content: |
      worker_processes  1;

      events {
          worker_connections  1024;
      }

      http {
          server {
              listen 80;
              server_name custom_nginx;

              location /custom {
                  return 200 "The mounted custom nginx.conf is being used!\n";
              }
          }
      }
    bin_data: IyEvYmluL3NoCgplY2hvICJjbGVhbnVwIHNjcmlwdCBpcyBleGVjdXRlZCEi
